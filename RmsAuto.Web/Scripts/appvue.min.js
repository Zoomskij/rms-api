'use strict'; var app = new Vue({ el: '#app', mounted: function () { this.loaded() }, data: { jsonModel, isArticleGroup: !1, isOrderGroup: !1, isPartnerGroup: !1, lastGroup: '', loading: !1 }, methods: { ready: function () { this.loading = !0, this.$http({ url: '/', method: 'GET' }).then(function () { this.loading = !1 }, function () { }) }, IsAccess: function (a, b) { for (var c = !1, d = 0; d < userPermissions.length; ++d)5 === userPermissions[d] && (c = !0); return !1 === a && '' === token ? !1 : 'CreateOrder' === b && !1 == c ? !1 : 'GetOrder' === b && !1 == c ? !1 : !0 }, loaded: function () { this.isArticleGroup = !1, this.isOrderGroup = !1, this.isPartnerGroup = !1 }, ShowModel: function (a) { this.changeVisible(a), this.IsCollapsed(a) }, IsCollapsed: function (a) { var b = document.getElementById(a + '_arrow'), c = document.getElementById(a + '_toggles'); b.classList.contains('rotate') ? (b.classList.remove('rotate'), c.style.display = 'initial') : (b.classList.add('rotate'), c.style.display = 'none') }, changeVisible: function (a) { var b = document.getElementById(a); null !== b && ('none' === b.style.display ? b.style.display = 'block' : b.style.display = 'none') }, tryIt: function (a) { this.changeVisible(a + '_article'), this.changeVisible(a + '_brand'), this.changeVisible(a + '_analogues'), this.changeVisible(a + '_execute'), this.changeVisible(a + '_orderId'), this.changeVisible(a + '_OrderHead'); var b = document.getElementById(a + '_tryIt'); null !== b && ('Try it out' === b.innerHTML ? (b.innerHTML = 'Cancel', b.classList.add('cancel')) : (b.innerHTML = 'Try it out', b.classList.remove('cancel'))) }, syntaxHighlight: function (a) { return 'string' != typeof a && (a = JSON.stringify(a, void 0, 2)), a = a.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'), a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (b) { var c = 'number'; return /^"/.test(b) ? /:$/.test(b) ? c = 'key' : c = 'string' : /true|false/.test(b) ? c = 'boolean' : /null/.test(b) && (c = 'null'), '<span class="' + c + '">' + b + '</span>' }) }, replaceString: function (a, b, c) { for (var d = 0; d < c.length; ++d)c.substring(d, d + a.length) === a && (c = c.substring(0, d) + b + c.substring(d + a.length, c.length)); return c }, request: function (a, b, c) { var d = window.location.origin, e = null; this.changeVisible(a + '_loader'); var f = $('#' + a + '_resp'), g = $('#' + a + '_code'), h = $('#' + a + '_loader'), j = $('#' + a + '_curl'), k = $('#' + a + '_request-url'); document.getElementById(a + '_divCurl').style.display = 'block', document.getElementById(a + '_divRequestUrl').style.display = 'block', j.html('curl -X ' + b + ' "' + d + '' + c + '"'), j.append(' -H "accept: application/json"'), '' !== token && 'GetPartners' !== a && 'GetOrders' !== a && j.append(' -H "authorization: ' + token + '"'), 'POST' === b && (e = document.getElementById('CreateOrder_OrderHead').value, j.append(' -d ' + JSON.stringify(e, null, 0) + '')), k.html(d + c + ''), $.ajax({ url: c, method: b, crossDomain: !0, contentType: 'application/json; charset=utf-8', dataType: 'json', data: e, cache: !1, beforeSend: function (l) { '' !== token && (l.setRequestHeader('Authorization', token), l.setRequestHeader('X-Mobile', 'false')) }, success: function (l) { 'CreateOrder' === a && (delete l.Reaction, delete l.Username, delete l.OrderDate, delete l.CompletedDate, delete l.OrderName); var m = JSON.stringify(l, null, 2); 'string' != typeof m && (m = JSON.stringify(m, void 0, 2)), f.html(m), g.html('200'), document.getElementById(a + '_loader').style.display = 'none' }, error: function (l) { g.html(l.status), 401 === l.status && f.html('{\n    "Message": "Authorization has been denied for this request."\n}'), 404 === l.status && 'Error Not Found' === l.responseJSON && f.html('{\n    "Message": "' + l.responseJSON + '"\n}'), 404 === l.status && 'Not Found' === l.statusText && 'Error Not Found' !== l.responseJSON && f.html('{\n    "Message": "Access Denied"\n}'), 405 === l.status && f.html('{\n    "Message": "Method not allowed."\n}'), 400 === l.status && f.html('{\n    "Message": "' + l.responseJSON.MessageDetail + '"\n}'), 500 === l.status && f.html('{\n    "Message":  "Internal Server Error or Unauthorized Error"\n}'), document.getElementById(a + '_loader').style.display = 'none' } }) }, validation: function (a) { return '' !== a.value || (a.classList.add('invalid'), a.oninput = function () { a.classList.remove('invalid') }, !1) }, select: function (a) { 'GetBrands' === a && this.GetBrands(), 'GetSpareParts' === a && this.GetSpareParts(), 'GetOrders' === a && this.GetOrders(), 'CreateOrder' === a && this.CreateOrder(), 'GetOrder' === a && this.GetOrder(), 'GetPartners' === a && this.GetPartners() }, GetBrands: function () { var a = document.getElementById('GetBrands_article'); if (!1 === this.validation(a)) return !1; var b = document.getElementById('GetBrands_analogues'), c = '/api/Articles/' + a.value + '/Brands'; '' !== b.value && (c += '?analogues=' + b.value + ''), this.request('GetBrands', 'GET', c) }, GetSpareParts: function () { var a = document.getElementById('GetSpareParts_article'), b = document.getElementById('GetSpareParts_brand'), c = this.validation(a), d = this.validation(b); if (c && !1 === d) return !1; var e = document.getElementById('GetSpareParts_analogues'), f = '/api/Articles/' + a.value + '/Brand/' + b.value; '' !== e.value && (f += '?analogues=' + e.value + ''), this.request('GetSpareParts', 'GET', f) }, GetOrders: function () { this.request('GetOrders', 'GET', '/api/orders') }, CreateOrder: function () { var a = document.getElementById('CreateOrder_OrderHead'), c = this.validation(a); return !1 !== c && void this.request('CreateOrder', 'POST', '/api/orders') }, GetOrder: function () { var a = document.getElementById('GetOrder_orderId'), b = '/api/orders/' + a.value, c = this.validation(a); return !1 !== c && void this.request('GetOrder', 'GET', b) }, GetPartners: function () { this.request('GetPartners', 'GET', '/api/Partners/') } } });